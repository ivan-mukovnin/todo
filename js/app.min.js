(()=>{"use strict";!function(t){let e=new Image;e.onload=e.onerror=function(){!function(t){let e=!0===t?"webp":"no-webp";document.documentElement.classList.add(e)}(2==e.height)},e.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}(),function(){const t=document.querySelector("#form"),e=document.querySelector("#taskInput"),n=document.querySelector("#tasksList");document.querySelector("#emptyList");let i=[];function s(){if(0===i.length){const t='\n      <li id="emptyList" class="list-group-item empty-list">\n        <img src="./img/leaf.svg" alt="Empty" width="48" class="mt-3">\n        <div class="empty-list__title">Список пуст</div>\n      </li>';n.insertAdjacentHTML("afterbegin",t)}if(i.length>0){const t=document.querySelector("#emptyList");t&&t.remove()}}function o(){localStorage.setItem("tasks",JSON.stringify(i))}function a(t){const e=t.done?"task-title task-title--done":"task-title",i=`\n    <li id="${t.id}" class="list-group-item d-flex justify-content-between task-item">\n      <span class="${e}">${t.text}</span>\n        <div class="task-item__buttons">\n            <button type="button" data-action="done" class="btn-action">\n                <img src="./img/tick.svg" alt="Done" width="18" height="18">\n            </button>\n            <button type="button" data-action="delete" class="btn-action">\n                <img src="./img/cross.svg" alt="Done" width="18" height="18">\n            </button>\n        </div>\n    </li>`;n.insertAdjacentHTML("beforeend",i)}localStorage.getItem("tasks")&&(i=JSON.parse(localStorage.getItem("tasks")),i.forEach((t=>a(t)))),s(),t.addEventListener("submit",(function(t){t.preventDefault();const n=e.value,c={id:Date.now(),text:n,done:!1};i.push(c),o(),a(c),e.value="",e.focus(),s()})),n.addEventListener("click",(function(t){if("delete"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id);i=i.filter((t=>t.id!==n)),o(),e.remove(),s()})),n.addEventListener("click",(function(t){if("done"!==t.target.dataset.action)return;const e=t.target.closest(".list-group-item"),n=Number(e.id),s=i.find((t=>t.id===n));s.done=!s.done,o(),e.querySelector(".task-title").classList.toggle("task-title--done")}))}()})();